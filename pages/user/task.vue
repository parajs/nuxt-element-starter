<template>
  <div class="page-content-1200">
    <div class="mt-4">
      <nuxt-link to="/user/homepage">
        <i class="el-icon-arrow-left"></i>返回个人主页
      </nuxt-link>
    </div>

    <el-row :gutter="30" class="mt-5">
      <el-col :md="5" class="mb-5">
        <el-card class="box-card">
          <div class="box-card-title mb-3">任务栏</div>
          <div
            :class="['flex', 'tab-box', index === 0 ? 'active' : '']"
            @click="tabClick(0)"
          >
            <div class="flexItem tab-title flex">
              <span class="circle"></span> 私信
            </div>
            <div>2</div>
          </div>
          <div
            :class="['flex', 'tab-box', index === 1 ? 'active' : '']"
            @click="tabClick(1)"
          >
            <div class="flexItem tab-title flex">
              <span class="circle"></span> 通知
            </div>
            <div>2</div>
          </div>
        </el-card>
      </el-col>
      <el-col v-if="index === 0" :md="5" class="mb-5">
        <el-card class="box-card">
          <div class="mb-3">最近私信</div>
          <div class="flex collect-item">
            <Avatar
              size="50"
              :src="user.avatar"
              :color="user.userBackcolor"
              :text="user.userAbbr"
            />
            <div class="flexItem ml-3">
              <div class="text-truncate">11dukeforum123456</div>
              <div class="mt-2" style="color: #8898aa">45分钟</div>
            </div>
          </div>
        </el-card>
      </el-col>
      <el-col v-if="index === 0" :md="12" class="mb-5">
        <el-card class="box-card" body-style="padding:0">
          <div class="message-header">11dukeforum123456 nikename</div>
          <div
            class="mr-4 flex pa-5 mt-5"
            style="align-items: flex-start !important"
          >
            <div class="mr-4">
              <Avatar
                size="50"
                :src="user.avatar"
                :color="user.userBackcolor"
                :text="user.userAbbr"
              />
            </div>
            <div>
              <div class="mb-3">11dukeforum123456</div>
              <div class="message-content">
                <div>
                  完善的原型能够快速的让开发及设计人员理解产品经理对于产品的理解以及设计方案，通过注释完善细节，保证产品原型的完善性。
                </div>
                <div class="mt-5 text-right">
                  <el-button plain>忽略</el-button>
                  <el-button type="primary">同意私信申请</el-button>
                </div>
              </div>
            </div>
          </div>
          <div class="input-box">
            <div class="flex">
              <svg
                class="mr-4"
                version="1.1"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="26px"
                height="21px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g transform="matrix(1 0 0 1 -592 -739 )">
                  <path
                    d="M 7.908333333333332 4.265625  C 8.41388888888889 4.776041666666665  8.666666666666666 5.39583333333333  8.666666666666666 6.124999999999999  C 8.666666666666666 6.854166666666666  8.41388888888889 7.473958333333334  7.908333333333332 7.984375000000001  C 7.402777777777779 8.494791666666668  6.78888888888889 8.75  6.066666666666666 8.75  C 5.344444444444445 8.75  4.730555555555556 8.494791666666668  4.2250000000000005 7.984375000000001  C 3.719444444444445 7.473958333333334  3.466666666666667 6.854166666666666  3.466666666666667 6.124999999999999  C 3.466666666666667 5.39583333333333  3.719444444444445 4.776041666666665  4.2250000000000005 4.265625  C 4.730555555555556 3.7552083333333304  5.344444444444445 3.499999999999999  6.066666666666666 3.499999999999999  C 6.78888888888889 3.499999999999999  7.402777777777779 3.7552083333333304  7.908333333333332 4.265625  Z M 16.900000000000002 5.687500000000001  L 22.533333333333335 11.375000000000002  L 22.533333333333335 17.5  L 3.466666666666667 17.5  L 3.466666666666667 14.874999999999998  L 7.8 10.5  L 9.966666666666667 12.687500000000002  L 16.900000000000002 5.687500000000001  Z M 24.138020833333332 1.8798828124999991  C 24.052256944444448 1.7932942708333313  23.950694444444448 1.7500000000000009  23.833333333333332 2  L 2.1666666666666665 2  C 2.0493055555555557 1.7500000000000009  1.947743055555556 1.7932942708333313  1.8619791666666665 1.8798828124999991  C 1.776215277777778 1.9664713541666647  1.7333333333333334 2.0690104166666647  2 2.187499999999999  L 2 18.8125  C 1.7333333333333334 18.930989583333336  1.776215277777778 19.033528645833336  1.8619791666666665 19.1201171875  C 1.947743055555556 19.206705729166668  2.0493055555555557 19.25  2.1666666666666665 19  L 23.833333333333332 19  C 23.950694444444448 19.25  24.052256944444448 19.206705729166668  24.138020833333332 19.1201171875  C 24.223784722222224 19.033528645833336  24.266666666666666 18.930989583333336  24 18.8125  L 24 2.187499999999999  C 24.266666666666666 2.0690104166666647  24.223784722222224 1.9664713541666647  24.138020833333332 1.8798828124999991  Z M 25.363541666666666 0.6425781250000008  C 25.787847222222222 1.0709635416666656  26.000000000000007 1.5859375000000009  26 2.187499999999999  L 26 18.8125  C 26.000000000000007 19.4140625  25.787847222222222 19.929036458333336  25.363541666666666 20.357421875  C 24.939236111111114 20.785807291666668  24.429166666666667 21  23.833333333333332 21  L 2.1666666666666665 21  C 1.5708333333333333 21  1.060763888888889 20.785807291666668  0.6364583333333333 20.357421875  C 0.2121527777777778 19.929036458333336  0 19.4140625  0 18.8125  L 0 2.187499999999999  C 0 1.5859375000000009  0.2121527777777778 1.0709635416666656  0.6364583333333333 0.6425781250000008  C 1.060763888888889 0.21419270833333126  1.5708333333333333 0  2.1666666666666665 0  L 23.833333333333332 0  C 24.429166666666667 0  24.939236111111114 0.21419270833333126  25.363541666666666 0.6425781250000008  Z "
                    fill-rule="nonzero"
                    fill="#7f7f7f"
                    stroke="none"
                    transform="matrix(1 0 0 1 592 739 )"
                  />
                </g>
              </svg>

              <svg
                version="1.1"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="24px"
                height="24px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g transform="matrix(1 0 0 1 -638 -736 )">
                  <path
                    d="M 17.65625 14.0390625  C 17.78125 14.283854166666664  17.802083333333336 14.536458333333332  17.71875 14.796874999999998  C 17.333333333333336 16.057291666666664  16.614583333333336 17.072916666666664  15.5625 17.84375  C 14.510416666666668 18.614583333333332  13.322916666666668 19  12 19  C 10.677083333333334 19  9.489583333333334 18.614583333333332  8.4375 17.84375  C 7.385416666666668 17.072916666666664  6.666666666666667 16.057291666666664  6.28125 14.796874999999998  C 6.197916666666667 14.536458333333332  6.21875 14.283854166666664  6.34375 14.0390625  C 6.46875 13.79427083333333  6.666666666666667 13.63020833333333  6.9375 13.546875  C 7.197916666666668 13.463541666666664  7.450520833333334 13.484374999999998  7.6953125 13.609375000000002  C 7.940104166666668 13.734375  8.104166666666668 13.932291666666664  8.1875 14.203125  C 8.447916666666668 15.03645833333333  8.9296875 15.710937499999998  9.6328125 16.2265625  C 10.3359375 16.7421875  11.125 17  12 17  C 12.875 17  13.664062500000004 16.7421875  14.3671875 16.2265625  C 15.070312500000004 15.710937499999998  15.552083333333336 15.03645833333333  15.8125 14.203125  C 15.895833333333336 13.932291666666664  16.0625 13.734375  16.3125 13.609375000000002  C 16.5625 13.484374999999998  16.817708333333336 13.463541666666664  17.078125 13.546875  C 17.338541666666668 13.63020833333333  17.53125 13.79427083333333  17.65625 14.0390625  Z M 9.4140625 6.5859375  C 9.8046875 6.976562499999999  10 7.447916666666665  10 8  C 10 8.552083333333332  9.8046875 9.023437499999996  9.4140625 9.4140625  C 9.0234375 9.8046875  8.552083333333334 10  8 10  C 7.447916666666668 10  6.9765625 9.8046875  6.5859375 9.4140625  C 6.1953125 9.023437499999996  6 8.552083333333332  6 8  C 6 7.447916666666665  6.1953125 6.976562499999999  6.5859375 6.5859375  C 6.9765625 6.195312500000001  7.447916666666668 6  8 6  C 8.552083333333334 6  9.0234375 6.195312500000001  9.4140625 6.5859375  Z M 17.4140625 6.5859375  C 17.8046875 6.976562499999999  18 7.447916666666665  18 8  C 18 8.552083333333332  17.8046875 9.023437499999996  17.4140625 9.4140625  C 17.0234375 9.8046875  16.552083333333336 10  16 10  C 15.447916666666668 10  14.9765625 9.8046875  14.5859375 9.4140625  C 14.1953125 9.023437499999996  14 8.552083333333332  14 8  C 14 7.447916666666665  14.1953125 6.976562499999999  14.5859375 6.5859375  C 14.9765625 6.195312500000001  15.447916666666668 6  16 6  C 16.552083333333336 6  17.0234375 6.195312500000001  17.4140625 6.5859375  Z M 21.203125 15.882812500000002  C 21.734375 14.6484375  22 13.354166666666668  22 12  C 22 10.645833333333332  21.734375 9.3515625  21.203125 8.1171875  C 20.671875 6.882812499999999  19.9609375 5.820312500000001  19.0703125 4.929687500000001  C 18.1796875 4.039062500000001  17.1171875 3.328125  15.8828125 2.796875000000001  C 14.6484375 2.265624999999999  13.354166666666668 2.000000000000001  12 2.000000000000001  C 10.645833333333334 2.000000000000001  9.3515625 2.265624999999999  8.1171875 2.796875000000001  C 6.8828125 3.328125  5.8203125 4.039062500000001  4.9296875 4.929687500000001  C 4.0390625 5.820312500000001  3.328125 6.882812499999999  2.796875 8.1171875  C 2.265625 9.3515625  2 10.645833333333332  2 12  C 2 13.354166666666668  2.265625 14.6484375  2.796875 15.882812500000002  C 3.328125 17.1171875  4.0390625 18.1796875  4.9296875 19.0703125  C 5.8203125 19.9609375  6.8828125 20.671875  8.1171875 21.203125  C 9.3515625 21.734375  10.645833333333334 22  12 22  C 13.354166666666668 22  14.6484375 21.734375  15.8828125 21.203125  C 17.1171875 20.671875  18.1796875 19.9609375  19.0703125 19.0703125  C 19.9609375 18.1796875  20.671875 17.1171875  21.203125 15.882812500000002  Z M 22.390625 5.9765625  C 23.463541666666664 7.815104166666664  24 9.822916666666664  24 12  C 24 14.177083333333334  23.463541666666664 16.18489583333333  22.390625 18.0234375  C 21.317708333333336 19.861979166666668  19.861979166666668 21.317708333333332  18.0234375 22.390625  C 16.184895833333336 23.463541666666668  14.177083333333334 24  12 24  C 9.822916666666668 24  7.815104166666667 23.463541666666668  5.9765625 22.390625  C 4.138020833333334 21.317708333333332  2.682291666666667 19.861979166666668  1.609375 18.0234375  C 0.5364583333333333 16.18489583333333  0 14.177083333333334  0 12  C 0 9.822916666666664  0.5364583333333333 7.815104166666664  1.609375 5.9765625  C 2.682291666666667 4.138020833333333  4.138020833333334 2.6822916666666643  5.9765625 1.6093749999999991  C 7.815104166666667 0.5364583333333313  9.822916666666668 0  12 0  C 14.177083333333334 0  16.184895833333336 0.5364583333333313  18.0234375 1.6093749999999991  C 19.861979166666668 2.6822916666666643  21.317708333333336 4.138020833333333  22.390625 5.9765625  Z "
                    fill-rule="nonzero"
                    fill="#7f7f7f"
                    stroke="none"
                    transform="matrix(1 0 0 1 638 736 )"
                  />
                </g>
              </svg>
            </div>

            <div class="input-inner flex">
              <div class="editor flexItem" contenteditable="true"></div>
              <el-button plain class="mr-4">发送</el-button>
            </div>
          </div>
        </el-card>
      </el-col>

      <el-col v-if="index === 1" :md="19" class="mb-5">
        <el-card class="box-card">
          <div class="flex">
            <div class="box-card-title flexItem">通知</div>
            <el-date-picker
              v-model="value1"
              type="daterange"
              range-separator="至"
              start-placeholder="开始日期"
              end-placeholder="结束日期"
            >
            </el-date-picker>
          </div>
          <div>
            <div class="notice-item">
              [临时公会通知] 临时公会名称+需要您确认解散申请，请及时处理！>>
            </div>
            <div class="notice-item">
              [临时公会通知] 临时公会名称+需要您确认解散申请，请及时处理！>>
            </div>
          </div>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script>
import { mapState } from 'vuex'
export default {
  name: 'Task',
  layout: 'layout',
  middleware: 'auth',
  data() {
    return {
      index: 0,
      value1: '',
    }
  },
  computed: {
    ...mapState(['user']),
  },
  methods: {
    tabClick(index) {
      this.index = index
    },
  },
}
</script>

<style scoped>
.box-card-title {
  font-size: 16px;
  font-weight: bold;
}

.tab-box {
  padding: 20px 0;
  font-size: 14px;
}

.tab-title {
  font-weight: bold;
  cursor: pointer;
}

.circle {
  width: 16px;
  height: 16px;
  border-radius: 20px;
  display: inline-block;
  margin-right: 10px;
  background-color: #ddd;
}

.tab-box.active {
  color: #0f5bce;
}

.tab-box.active .circle {
  background-color: #0f5bce;
}

.collect-item {
  padding: 10px 0;
  font-size: 13px;
}

.message-header {
  padding: 20px;
  border-bottom: 1px solid #eee;
  text-align: center;
}

.message-content {
  background-color: #f6f9fc;
  padding: 20px;
  border-radius: 10px;
}

.input-box {
  border-top: 1px solid #eee;
  padding: 20px;
  margin-top: 40px;
}

.input-inner {
  border: 1px solid #eee;
  border-radius: 4px;
  margin-top: 10px;
}

.editor {
  padding: 20px 10px;
  outline: none;
  height: 100%;
  width: 100%;
  font-size: 14px;
}

.notice-item {
  padding: 20px 0;
  border-bottom: 1px solid #eee;
  font-size: 14px;
}

.notice-item::after {
  border: 1px solid transparent;
}
</style>
